[gd_scene load_steps=12 format=2]

[ext_resource path="res://icon.png" type="Texture" id=1]
[ext_resource path="res://Scenes/Character/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scripts/camera_controller.gd" type="Script" id=7]
[ext_resource path="res://Scripts/Characters/Civilian.gd" type="Script" id=14]
[ext_resource path="res://Scripts/Characters/Goon.gd" type="Script" id=15]
[ext_resource path="res://Scripts/Characters/Sprites/Sprite_controller.gd" type="Script" id=16]

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 514, 40 )

[sub_resource type="CapsuleShape2D" id=5]

[sub_resource type="SpriteFrames" id=6]
animations = [ {
"frames": [ ExtResource( 1 ) ],
"loop": true,
"name": "default",
"speed": 5.0
} ]

[sub_resource type="CircleShape2D" id=7]

[sub_resource type="SpriteFrames" id=8]
animations = [ {
"frames": [ ExtResource( 1 ) ],
"loop": true,
"name": "default",
"speed": 5.0
} ]

[node name="test_room" type="Node2D"]

[node name="Player" parent="." instance=ExtResource( 2 )]

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2( 8.00903, 221.583 )
motion_scale = Vector2( 0.1, 1 )

[node name="background" type="Node2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2( -476.538, -218.914 )
z_index = -2

[node name="darkness2" type="Node2D" parent="ParallaxBackground/ParallaxLayer/background"]
z_index = -1

[node name="darkness" type="ColorRect" parent="ParallaxBackground/ParallaxLayer/background/darkness2"]
margin_top = -375.0
margin_right = 1043.0
margin_bottom = 631.0
color = Color( 0.0313726, 0.0509804, 0.0352941, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="buildings" type="Node2D" parent="ParallaxBackground/ParallaxLayer/background"]

[node name="ColorRect" type="ColorRect" parent="ParallaxBackground/ParallaxLayer/background/buildings"]
margin_left = 38.0594
margin_top = 258.368
margin_right = 223.059
margin_bottom = 532.368
color = Color( 0.423529, 0.333333, 0.364706, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect2" type="ColorRect" parent="ParallaxBackground/ParallaxLayer/background/buildings"]
margin_left = 319.0
margin_top = 28.0
margin_right = 611.0
margin_bottom = 541.0
color = Color( 0.423529, 0.333333, 0.364706, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect3" type="ColorRect" parent="ParallaxBackground/ParallaxLayer/background/buildings"]
margin_left = 706.763
margin_top = 40.7136
margin_right = 998.763
margin_bottom = 553.714
color = Color( 0.423529, 0.333333, 0.364706, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="background2" type="Node2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2( 564.157, -218.914 )
z_index = -2

[node name="darkness2" type="Node2D" parent="ParallaxBackground/ParallaxLayer/background2"]
z_index = -1

[node name="darkness" type="ColorRect" parent="ParallaxBackground/ParallaxLayer/background2/darkness2"]
margin_top = -435.0
margin_right = 1043.0
margin_bottom = 631.0
color = Color( 0.0313726, 0.0509804, 0.0352941, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="buildings" type="Node2D" parent="ParallaxBackground/ParallaxLayer/background2"]

[node name="ColorRect" type="ColorRect" parent="ParallaxBackground/ParallaxLayer/background2/buildings"]
margin_left = 38.0594
margin_top = 258.368
margin_right = 223.059
margin_bottom = 532.368
color = Color( 0.423529, 0.333333, 0.364706, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect2" type="ColorRect" parent="ParallaxBackground/ParallaxLayer/background2/buildings"]
margin_left = 319.0
margin_top = 28.0
margin_right = 611.0
margin_bottom = 541.0
color = Color( 0.423529, 0.333333, 0.364706, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect3" type="ColorRect" parent="ParallaxBackground/ParallaxLayer/background2/buildings"]
margin_left = 706.763
margin_top = 40.7136
margin_right = 998.763
margin_bottom = 553.714
color = Color( 0.423529, 0.333333, 0.364706, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="background3" type="Node2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2( -1514.71, -223.953 )
z_index = -2

[node name="darkness2" type="Node2D" parent="ParallaxBackground/ParallaxLayer/background3"]
z_index = -1

[node name="darkness" type="ColorRect" parent="ParallaxBackground/ParallaxLayer/background3/darkness2"]
margin_top = -404.0
margin_right = 1043.0
margin_bottom = 631.0
color = Color( 0.0313726, 0.0509804, 0.0352941, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="buildings" type="Node2D" parent="ParallaxBackground/ParallaxLayer/background3"]

[node name="ColorRect" type="ColorRect" parent="ParallaxBackground/ParallaxLayer/background3/buildings"]
margin_left = 38.0594
margin_top = 258.368
margin_right = 223.059
margin_bottom = 532.368
color = Color( 0.423529, 0.333333, 0.364706, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect2" type="ColorRect" parent="ParallaxBackground/ParallaxLayer/background3/buildings"]
margin_left = 319.0
margin_top = 28.0
margin_right = 611.0
margin_bottom = 541.0
color = Color( 0.423529, 0.333333, 0.364706, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect3" type="ColorRect" parent="ParallaxBackground/ParallaxLayer/background3/buildings"]
margin_left = 706.763
margin_top = 40.7136
margin_right = 998.763
margin_bottom = 553.714
color = Color( 0.423529, 0.333333, 0.364706, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( 111.503, 481.29 )
current = true
script = ExtResource( 7 )

[node name="Enviroment" type="Node2D" parent="."]

[node name="RigidBody2D" type="StaticBody2D" parent="Enviroment" groups=[
"ground",
]]
position = Vector2( 582.055, 350.717 )
scale = Vector2( 2, 2 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enviroment/RigidBody2D" groups=[
"ground",
]]
position = Vector2( 511, 40 )
shape = SubResource( 4 )

[node name="ColorRect2" type="ColorRect" parent="Enviroment/RigidBody2D"]
margin_left = -2.0
margin_right = 1018.0
margin_bottom = 86.0
color = Color( 0.682353, 0.65098, 0.560784, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="RigidBody2D2" type="StaticBody2D" parent="Enviroment" groups=[
"ground",
]]
position = Vector2( -1590.38, 202.973 )
scale = Vector2( 2, 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enviroment/RigidBody2D2" groups=[
"ground",
]]
position = Vector2( 511, 40 )
shape = SubResource( 4 )

[node name="ColorRect2" type="ColorRect" parent="Enviroment/RigidBody2D2"]
margin_right = 1018.0
margin_bottom = 67.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="RigidBody2D3" type="StaticBody2D" parent="Enviroment" groups=[
"ground",
]]
position = Vector2( -498.23, 522.679 )
scale = Vector2( 2, 5 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enviroment/RigidBody2D3" groups=[
"ground",
]]
position = Vector2( 511, 40 )
shape = SubResource( 4 )

[node name="ColorRect" type="ColorRect" parent="Enviroment/RigidBody2D3"]
margin_right = 1018.0
margin_bottom = 67.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Goon" type="KinematicBody2D" parent="."]
position = Vector2( 449.451, 490.208 )
z_index = 1
script = ExtResource( 15 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Goon"]
shape = SubResource( 5 )

[node name="Sprite" type="AnimatedSprite" parent="Goon"]
modulate = Color( 1, 0.560784, 0, 1 )
position = Vector2( 0.117963, -0.471918 )
scale = Vector2( 0.303154, 0.616551 )
frames = SubResource( 6 )
script = ExtResource( 16 )

[node name="Feet" type="Area2D" parent="Goon"]
position = Vector2( -37.519, 0.943848 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Goon/Feet"]
position = Vector2( 0.420441, 12.6135 )
shape = SubResource( 7 )

[node name="Civilian" type="KinematicBody2D" parent="."]
position = Vector2( 411.932, 491.152 )
z_index = 1
script = ExtResource( 14 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Civilian"]
shape = SubResource( 5 )

[node name="Sprite" type="AnimatedSprite" parent="Civilian"]
modulate = Color( 0, 0.321569, 1, 1 )
position = Vector2( 0.117963, -0.471918 )
scale = Vector2( 0.303154, 0.616551 )
frames = SubResource( 8 )
script = ExtResource( 16 )

[node name="Feet" type="Area2D" parent="Civilian"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Civilian/Feet"]
position = Vector2( 0.420441, 12.6135 )
shape = SubResource( 7 )
[connection signal="body_entered" from="Goon/Feet" to="Goon" method="_on_Feet_body_entered"]
[connection signal="body_exited" from="Goon/Feet" to="Goon" method="_on_Feet_body_exited"]
[connection signal="body_entered" from="Civilian/Feet" to="Civilian" method="_on_Feet_body_entered"]
[connection signal="body_exited" from="Civilian/Feet" to="Civilian" method="_on_Feet_body_exited"]
